var Ve=Object.defineProperty,He=Object.defineProperties;var Ge=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var oe=(a,r,e)=>r in a?Ve(a,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[r]=e,ve=(a,r)=>{for(var e in r||(r={}))Ne.call(r,e)&&oe(a,e,r[e]);if(me)for(var e of me(r))Ue.call(r,e)&&oe(a,e,r[e]);return a},pe=(a,r)=>He(a,Ge(r));var X=(a,r,e)=>(oe(a,typeof r!="symbol"?r+"":r,e),e);import{c as z,l as O,r as I,R as m,B as gt,T as Je,P as Ye,a as qe,b as ze,d as Me,e as zt,f as Re,D as ye,g as xe,h as Pe,i as we,j as Ee,k as Lt,G as ie,S as Rt,m as Ke,n as De,o as $e,U as Xe,p as Ze,q as Qe,s as je,t as tr,u as er}from"./vendor.4380c0e4.js";const rr=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const b of t.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&s(b)}).observe(document,{childList:!0,subtree:!0});function e(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerpolicy&&(t.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?t.credentials="include":n.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(n){if(n.ep)return;n.ep=!0;const t=e(n);fetch(n.href,t)}};rr();const Ht="#55EEEE",At="#EEBB66",he="#EE55EE",Kt="#EBE8E7",K={WHITE:Kt,WHITISH:"#E2E0D8",WHITER:"#FFFEFD",BLACK:"#393538",HUES:[z.blend(Ht,Kt,"multiply").hex(),z.blend(he,Kt,"multiply").hex(),z.blend(At,Kt,"multiply").hex()]},ar=K.HUES.map(a=>{let r=z(a).rgb(!1),e=z(K.WHITE).rgb(!1);return z.rgb(Math.min(r[0]/e[0],1)*255,Math.min(r[1]/e[1],1)*255,Math.min(r[2]/e[2],1)*255).hex()});function le(a){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(r,function(s,n,t,b){return n+n+t+t+b+b});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Be(a){var r=le(a).r,e=le(a).g,s=le(a).b,n=["244 67 54","255 235 238","255 205 210","239 154 154","229 115 115","239 83 80","229 57 53","211 47 47","198 40 40","183 28 28","255 138 128","255 82 82","255 23 68","213 0 0","233 30 99","252 228 236","248 187 208","244 143 177","240 98 146","236 64 122","216 27 96","194 24 91","173 20 87","136 14 79","255 128 171","255 64 129","245 0 87","197 17 98","156 39 176","243 229 245","225 190 231","206 147 216","186 104 200","171 71 188","142 36 170","123 31 162","106 27 154","74 20 140","234 128 252","224 64 251","213 0 249","170 0 255","103 58 183","237 231 246","209 196 233","179 157 219","149 117 205","126 87 194","94 53 177","81 45 168","69 39 160","49 27 146","179 136 255","124 77 255","101 31 255","98 0 234","63 81 181","232 234 246","197 202 233","159 168 218","121 134 203","92 107 192","57 73 171","48 63 159","40 53 147","26 35 126","140 158 255","83 109 254","61 90 254","48 79 254","33 150 243","227 242 253","187 222 251","144 202 249","100 181 246","66 165 245","30 136 229","25 118 210","21 101 192","13 71 161","130 177 255","68 138 255","41 121 255","41 98 255","3 169 244","225 245 254","179 229 252","129 212 250","79 195 247","41 182 246","3 155 229","2 136 209","2 119 189","1 87 155","128 216 255","64 196 255","0 176 255","0 145 234","0 188 212","224 247 250","178 235 242","128 222 234","77 208 225","38 198 218","0 172 193","0 151 167","0 131 143","0 96 100","132 255 255","24 255 255","0 229 255","0 184 212","0 150 136","224 242 241","178 223 219","128 203 196","77 182 172","38 166 154","0 137 123","0 121 107","0 105 92","0 77 64","167 255 235","100 255 218","29 233 182","0 191 165","76 175 80","232 245 233","200 230 201","165 214 167","129 199 132","102 187 106","67 160 71","56 142 60","46 125 50","27 94 32","185 246 202","105 240 174","0 230 118","0 200 83","139 195 74","241 248 233","220 237 200","197 225 165","174 213 129","156 204 101","124 179 66","104 159 56","85 139 47","51 105 30","204 255 144","178 255 89","118 255 3","100 221 23","205 220 57","249 251 231","240 244 195","230 238 156","220 231 117","212 225 87","192 202 51","175 180 43","158 157 36","130 119 23","244 255 129","238 255 65","198 255 0","174 234 0","255 235 59","255 253 231","255 249 196","255 245 157","255 241 118","255 238 88","253 216 53","251 192 45","249 168 37","245 127 23","255 255 141","255 255 0","255 234 0","255 214 0","255 193 7","255 248 225","255 236 179","255 224 130","255 213 79","255 202 40","255 179 0","255 160 0","255 143 0","255 111 0","255 229 127","255 215 64","255 196 0","255 171 0","255 152 0","255 243 224","255 224 178","255 204 128","255 183 77","255 167 38","251 140 0","245 124 0","239 108 0","230 81 0","255 209 128","255 171 64","255 145 0","255 109 0","255 87 34","251 233 231","255 204 188","255 171 145","255 138 101","255 112 67","244 81 30","230 74 25","216 67 21","191 54 12","255 158 128","255 110 64","255 61 0","221 44 0","121 85 72","239 235 233","215 204 200","188 170 164","161 136 127","141 110 99","109 76 65","93 64 55","78 52 46","62 39 35","158 158 158","250 250 250","245 245 245","238 238 238","224 224 224","189 189 189","117 117 117","97 97 97","66 66 66","33 33 33","96 125 139","236 239 241","207 216 220","176 190 197","144 164 174","120 144 156","84 110 122","69 90 100","55 71 79","38 50 56","0 0 0","255 255 255"],t=["#f44336","#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000","#e91e63","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162","#9c27b0","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff","#673ab7","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea","#3f51b5","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe","#2196f3","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff","#03a9f4","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea","#00bcd4","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4","#009688","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5","#4caf50","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853","#8bc34a","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17","#cddc39","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00","#ffeb3b","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600","#ffc107","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00","#ff9800","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00","#ff5722","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00","#795548","#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#6d4c41","#5d4037","#4e342e","#3e2723","#9e9e9e","#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#757575","#616161","#424242","#212121","#607d8b","#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#546e7a","#455a64","#37474f","#263238","#000000","#ffffff"],b=["rgb(244,67,54)","rgb(255,235,238)","rgb(255,205,210)","rgb(239,154,154)","rgb(229,115,115)","rgb(239,83,80)","rgb(229,57,53)","rgb(211,47,47)","rgb(198,40,40)","rgb(183,28,28)","rgb(255,138,128)","rgb(255,82,82)","rgb(255,23,68)","rgb(213,0,0)","rgb(233,30,99)","rgb(252,228,236)","rgb(248,187,208)","rgb(244,143,177)","rgb(240,98,146)","rgb(236,64,122)","rgb(216,27,96)","rgb(194,24,91)","rgb(173,20,87)","rgb(136,14,79)","rgb(255,128,171)","rgb(255,64,129)","rgb(245,0,87)","rgb(197,17,98)","rgb(156,39,176)","rgb(243,229,245)","rgb(225,190,231)","rgb(206,147,216)","rgb(186,104,200)","rgb(171,71,188)","rgb(142,36,170)","rgb(123,31,162)","rgb(106,27,154)","rgb(74,20,140)","rgb(234,128,252)","rgb(224,64,251)","rgb(213,0,249)","rgb(170,0,255)","rgb(103,58,183)","rgb(237,231,246)","rgb(209,196,233)","rgb(179,157,219)","rgb(149,117,205)","rgb(126,87,194)","rgb(94,53,177)","rgb(81,45,168)","rgb(69,39,160)","rgb(49,27,146)","rgb(179,136,255)","rgb(124,77,255)","rgb(101,31,255)","rgb(98,0,234)","rgb(63,81,181)","rgb(232,234,246)","rgb(197,202,233)","rgb(159,168,218)","rgb(121,134,203)","rgb(92,107,192)","rgb(57,73,171)","rgb(48,63,159)","rgb(40,53,147)","rgb(26,35,126)","rgb(140,158,255)","rgb(83,109,254)","rgb(61,90,254)","rgb(48,79,254)","rgb(33,150,243)","rgb(227,242,253)","rgb(187,222,251)","rgb(144,202,249)","rgb(100,181,246)","rgb(66,165,245)","rgb(30,136,229)","rgb(25,118,210)","rgb(21,101,192)","rgb(13,71,161)","rgb(130,177,255)","rgb(68,138,255)","rgb(41,121,255)","rgb(41,98,255)","rgb(3,169,244)","rgb(225,245,254)","rgb(179,229,252)","rgb(129,212,250)","rgb(79,195,247)","rgb(41,182,246)","rgb(3,155,229)","rgb(2,136,209)","rgb(2,119,189)","rgb(1,87,155)","rgb(128,216,255)","rgb(64,196,255)","rgb(0,176,255)","rgb(0,145,234)","rgb(0,188,212)","rgb(224,247,250)","rgb(178,235,242)","rgb(128,222,234)","rgb(77,208,225)","rgb(38,198,218)","rgb(0,172,193)","rgb(0,151,167)","rgb(0,131,143)","rgb(0,96,100)","rgb(132,255,255)","rgb(24,255,255)","rgb(0,229,255)","rgb(0,184,212)","rgb(0,150,136)","rgb(224,242,241)","rgb(178,223,219)","rgb(128,203,196)","rgb(77,182,172)","rgb(38,166,154)","rgb(0,137,123)","rgb(0,121,107)","rgb(0,105,92)","rgb(0,77,64)","rgb(167,255,235)","rgb(100,255,218)","rgb(29,233,182)","rgb(0,191,165)","rgb(76,175,80)","rgb(232,245,233)","rgb(200,230,201)","rgb(165,214,167)","rgb(129,199,132)","rgb(102,187,106)","rgb(67,160,71)","rgb(56,142,60)","rgb(46,125,50)","rgb(27,94,32)","rgb(185,246,202)","rgb(105,240,174)","rgb(0,230,118)","rgb(0,200,83)","rgb(139,195,74)","rgb(241,248,233)","rgb(220,237,200)","rgb(197,225,165)","rgb(174,213,129)","rgb(156,204,101)","rgb(124,179,66)","rgb(104,159,56)","rgb(85,139,47)","rgb(51,105,30)","rgb(204,255,144)","rgb(178,255,89)","rgb(118,255,3)","rgb(100,221,23)","rgb(205,220,57)","rgb(249,251,231)","rgb(240,244,195)","rgb(230,238,156)","rgb(220,231,117)","rgb(212,225,87)","rgb(192,202,51)","rgb(175,180,43)","rgb(158,157,36)","rgb(130,119,23)","rgb(244,255,129)","rgb(238,255,65)","rgb(198,255,0)","rgb(174,234,0)","rgb(255,235,59)","rgb(255,253,231)","rgb(255,249,196)","rgb(255,245,157)","rgb(255,241,118)","rgb(255,238,88)","rgb(253,216,53)","rgb(251,192,45)","rgb(249,168,37)","rgb(245,127,23)","rgb(255,255,141)","rgb(255,255,0)","rgb(255,234,0)","rgb(255,214,0)","rgb(255,193,7)","rgb(255,248,225)","rgb(255,236,179)","rgb(255,224,130)","rgb(255,213,79)","rgb(255,202,40)","rgb(255,179,0)","rgb(255,160,0)","rgb(255,143,0)","rgb(255,111,0)","rgb(255,229,127)","rgb(255,215,64)","rgb(255,196,0)","rgb(255,171,0)","rgb(255,152,0)","rgb(255,243,224)","rgb(255,224,178)","rgb(255,204,128)","rgb(255,183,77)","rgb(255,167,38)","rgb(251,140,0)","rgb(245,124,0)","rgb(239,108,0)","rgb(230,81,0)","rgb(255,209,128)","rgb(255,171,64)","rgb(255,145,0)","rgb(255,109,0)","rgb(255,87,34)","rgb(251,233,231)","rgb(255,204,188)","rgb(255,171,145)","rgb(255,138,101)","rgb(255,112,67)","rgb(244,81,30)","rgb(230,74,25)","rgb(216,67,21)","rgb(191,54,12)","rgb(255,158,128)","rgb(255,110,64)","rgb(255,61,0)","rgb(221,44,0)","rgb(121,85,72)","rgb(239,235,233)","rgb(215,204,200)","rgb(188,170,164)","rgb(161,136,127)","rgb(141,110,99)","rgb(109,76,65)","rgb(93,64,55)","rgb(78,52,46)","rgb(62,39,35)","rgb(158,158,158)","rgb(250,250,250)","rgb(245,245,245)","rgb(238,238,238)","rgb(224,224,224)","rgb(189,189,189)","rgb(117,117,117)","rgb(97,97,97)","rgb(66,66,66)","rgb(33,33,33)","rgb(96,125,139)","rgb(236,239,241)","rgb(207,216,220)","rgb(176,190,197)","rgb(144,164,174)","rgb(120,144,156)","rgb(84,110,122)","rgb(69,90,100)","rgb(55,71,79)","rgb(38,50,56)","rgb(0,0,0)","rgb(255,255,255)"],f=[],h="#F44336,#E91E63,#673AB7,#3F51B5,#FFEB3B,#FF5722".toLowerCase().split(",");for(let x=0;x<n.length;x++){var i=/^(.*)\s(.*)\s(.*)$/.exec(n[x]),l=Number(i[1]),g=Number(i[2]),u=Number(i[3]);f[x]=Math.abs(l-r)+Math.abs(g-e)+Math.abs(u-s),h.indexOf(t[x].toLowerCase())<0&&(f[x]=255*3)}let d=Math.min.apply(Math,f),M=f.indexOf(d),y=t[M],W=b[M];return y.replace("#",""),(y+"ff").replace("#",""),W.replace("rgb(","").replace(")",""),(W.replace("rgb(","rgba(").replace(")","")+",1)").replace("rgba(","").replace(")",""),t[M]}function nr(a){return parseInt(Be((a||0).toString(16).padStart(6,"0")).substring(1),16)}function We(a){return(Math.floor(a.r)*256+Math.floor(a.g))*256+Math.floor(a.b)}function ut(a){return{r:Math.floor(a/256/256)%256,g:Math.floor(a/256)%256,b:Math.floor(a)%256}}class ot{constructor(r,e,s){X(this,"bodyParts",8);X(this,"maxWheels",4);X(this,"wheelProb",.5);X(this,"maxLength",10);X(this,"maxRadius",5);X(this,"minRadius",1);X(this,"minAngleWeight",.32);X(this,"maxAngleWeight",6.4);X(this,"score",0);X(this,"data",{lengths:[],angleWeights:[],wheels:[],colors:[]});X(this,"importCar",function(r){var e=new ot;try{var s=r;r.split(",").length<3?s=sr(r):s=r.split(",");for(var n={lengths:[],angleWeights:[],wheels:[],colors:[]},t=0;t<8;t++)n.lengths.push(this.maxLength*parseFloat(s[t*2+1])/3),n.angleWeights.push(parseFloat(s[t*2]));for(var b=parseInt(s[s.length-1]),t=0;t<b;t++)n.wheels.push({index:parseInt(s[16+t*3]),r:this.maxRadius*parseFloat(s[16+t*3+2])/1.5,o:parseInt(s[16+t*3])>-1,axelAngle:parseFloat(s[16+t*3+1])});for(var t=0;t<16;t++)n.colors.push(parseInt(s[40+t]));e=new ot(n)}catch(f){return console.log("E",f),e}return e});this.maxWheels;var n=this.wheelProb;if(s&&(n=s),r)this.data=r;else{this.data={lengths:[],angleWeights:[],wheels:[],colors:[]};for(var t=0;t<this.bodyParts;t++)this.data.lengths.push(this.maxLength*(Math.random()/4*3+.25)),this.data.angleWeights.push(.5+Math.random());for(var t=0;t<this.bodyParts*2;t++)this.data.colors.push((Math.floor(Math.random()*256)*256+Math.floor(Math.random()*256))*256+Math.floor(Math.random()*256));for(var t=0;t<2;t++)this.data.wheels.push({index:Math.floor(Math.random()*this.bodyParts),r:(this.maxRadius-this.minRadius)*Math.random()+this.minRadius,o:!0,axelAngle:t/this.bodyParts*Math.PI*2});for(var t=0;t<this.wheelMax-2;t++)this.data.wheels.push({index:Math.floor(Math.random()*this.bodyParts),r:(this.maxRadius-this.minRadius)*Math.random()+this.minRadius,o:Math.random()<n,axelAngle:t/this.bodyParts*Math.PI*2})}}fixAngleWeights(){for(var r=0,e=0;e<this.bodyParts;e++)r+=this.data.angleWeights[e];for(var e=0;e<this.bodyParts;e++)this.data.angleWeights[e]=Math.min(Math.max(this.data.angleWeights[e]/r*this.bodyParts,this.minAngleWeight),this.maxAngleWeight)}materialize(){for(var r=0;r<this.data.colors.length;r++)this.data.colors[r]=nr(this.data.colors[r])}totalAngleWeights(){for(var r=0,e=0;e<this.bodyParts;e++)r+=this.data.angleWeights[e];return r}compareWheels(r,e){return 0}wheelsAt(r){for(var e=[],s=0;s<this.data.wheels.length;s++)this.data.wheels[s].index==r&&e.push(this.data.wheels[s]);return e.sort(this.compareWheels),e}sectionSimiliarity(r,e,s){return this.data.lengths[e]/this.maxLength,this.data.angleWeights[e]/this.totalAngleWeights(),this.wheelsAt(e),r.data.lengths[s]/r.maxLength,r.data.angleWeights[s]/r.totalAngleWeights(),r.wheelsAt(s),0}bestMap(r){for(var e=0;e<this.bodyParts;e++);}getAreaOfPiece(r){r=(r%this.bodyParts+this.bodyParts)%this.bodyParts;for(var e=0,s=0;s<this.bodyParts;s++)e+=this.data.angleWeights[s];var n=Math.PI*2*this.data.angleWeights[(r+1)%this.bodyParts]/e,t=Math.sin(n)*this.data.lengths[r]*this.data.lengths[(r+1)%this.bodyParts]/2;return t}exportCar(){for(var r=[],e=0,s=0,n=0;n<this.bodyParts;n++)s+=this.data.angleWeights[n];for(var n=0;n<this.bodyParts;n++)r.push(this.data.angleWeights[n]),r.push(this.data.lengths[n]/this.maxLength*3),e+=Math.PI*2*this.data.angleWeights[n]/s;for(var t=0,n=0;n<this.data.wheels.length;n++)this.data.wheels[n].o&&(r.push(this.data.wheels[n].index),r.push(this.data.wheels[n].axelAngle),r.push(this.data.wheels[n].r/this.maxRadius*1.5),t++);for(var n=0;n<this.bodyParts-t;n++)r.push("NaN"),r.push(.1),r.push(.1);for(var n=0;n<this.bodyParts*2;n++)r.push(this.data.colors[n]);r.push(t);for(var n=0;n<r.length;n++);return r.join(",")}breed(r,e,s){var n=Math.max(1,this.score)/(Math.max(1,this.score)+Math.max(1,r.score));n=Math.sign(n-.5)*(.5+.25*Math.random())+.5;var t=Math.random();this.maxWheels;var b=this.wheelProb,b=this.wheelProb;s&&(b=s);var f=.001,h=.025;this.fixAngleWeights(),r.fixAngleWeights(),this.data.wheels.sort(this.compareWheels),r.data.wheels.sort(this.compareWheels);var i=new ot;i.score=this.score*n+r.score*(1-n);for(var l=0;l<this.bodyParts;l++)if(Math.random()>h){var g=(Math.random()-.5)/.99+.5;g=.5+(g-.5)*(1-t)+(n-.5)*t,i.data.lengths[l]=Math.min(Math.max((this.data.lengths[l]*g+r.data.lengths[l]*(1-g))*(1-f)+f*Math.random()*this.maxLength,0),this.maxLength),i.data.angleWeights[l]=Math.max((this.data.angleWeights[l]/this.totalAngleWeights()*g+r.data.angleWeights[l]/r.totalAngleWeights()*(1-g))*(1-f)+f*(Math.random()*(this.maxAngleWeight-this.minAngleWeight)+this.minAngleWeight),0)}for(var l=0;l<this.bodyParts*2;l++)if(Math.random()>h){var g=(Math.random()-.5)/.99+.5;g=.5+(g-.5)*(1-t)+(n-.5)*t;var u=ut(this.data.colors[l]),d=ut(r.data.colors[l]),M=ut(0);M.r=Math.min(Math.max((u.r*g+d.r*(1-g))*(1-f)+f*Math.random()*256,0),255),M.g=Math.min(Math.max((u.g*g+d.g*(1-g))*(1-f)+f*Math.random()*256,0),255),M.b=Math.min(Math.max((u.b*g+d.b*(1-g))*(1-f)+f*Math.random()*256,0),255),i.data.colors[l]=We(M)}i.data.wheels=[];for(var l=0;l<Math.min(Math.max(this.data.wheels.length,r.data.wheels.length),this.maxWheels);l++){var y=l<this.data.wheels.length,W=l<r.data.wheels.length,P=y?this.data.wheels[l]:r.data.wheels[l],S=y&&W?r.data.wheels[l]:P,g=(Math.random()-.5)/.99+.5;g=.5+(g-.5)*(1-t)+(n-.5)*t,P.o&&P.r,S.o&&S.r;var x=Math.min(Math.max((P.r*g+S.r*(1-g))*(1-f)+f*Math.random()*this.maxRadius,this.minRadius),this.maxRadius),g=(Math.random()-.5)/.99+.5;g=.5+(g-.5)*(1-t)+(n-.5)*t;var E=((P.o?1:0)*g+(S.o?1:0)*(1-g))*(1-f)+f*Math.random()>.5,V={x:Math.cos(P.index*Math.PI*2/this.bodyParts),y:Math.sin(P.index*Math.PI*2/this.bodyParts)},U={x:Math.cos(S.index*Math.PI*2/this.bodyParts),y:Math.sin(S.index*Math.PI*2/this.bodyParts)},g=(Math.random()-.5)/.99+.5;g=.5+(g-.5)*(1-t)+(n-.5)*t;var A={x:V.x*g+U.x*(1-g),y:V.y*g+U.y*(1-g)},T=Math.floor(Math.atan2(A.y,A.x)/Math.PI/2*this.bodyParts+.05),p=Math.floor(Math.random()*this.bodyParts),V={x:Math.cos(p*Math.PI*2/this.bodyParts),y:Math.sin(p*Math.PI*2/this.bodyParts)},U={x:Math.cos(T*Math.PI*2/this.bodyParts),y:Math.sin(T*Math.PI*2/this.bodyParts)};g=f,A={x:V.x*g+U.x*(1-g),y:V.y*g+U.y*(1-g)},T=(Math.floor(Math.atan2(A.y,A.x)/Math.PI/2*this.bodyParts+.05)%this.bodyParts+this.bodyParts)%this.bodyParts,Math.random()<h&&(T=Math.floor(Math.random()*this.bodyParts)),x<=this.minRadius&&(E=!1),Math.random()<h&&(E=Math.random()>.1,x=(this.maxRadius-this.minRadius)*Math.random()+this.minRadius);var L={index:T,r:x,o:E,axelAngle:T/this.bodyParts*Math.PI*2};i.data.wheels.push(L)}var J=e-i.data.wheels.length;if(J>0)for(var B=0;B<J;B++){var R=Math.floor(Math.random()*this.bodyParts);i.data.wheels.push({index:R+0,r:(this.maxRadius-this.minRadius)*Math.random()+this.minRadius,o:Math.random()<b,axelAngle:R/this.bodyParts*Math.PI*2})}if(J<0)for(var B=0;B<-J;B++)i.data.wheels.splice(Math.floor(Math.random()*i.data.wheels.length),1);for(var it=0,l=0;l<i.data.wheels.length;l++)i.data.wheels[l].o&&it++;var G=i.data.wheels.length*b-it;if(G>0)for(var B=0;B<G;B++){var rt=Math.floor(Math.random()*i.data.wheels.length);i.data.wheels[rt].o=Math.random()<.5||i.data.wheels[rt].o}if(Math.random()<h)if(i.data.wheels.length<this.maxWheels&&Math.random()<.5){var R=Math.floor(Math.random()*this.bodyParts);i.data.wheels.push({index:R,r:(this.maxRadius-this.minRadius)*Math.random()+this.minRadius,o:Math.random()<.1,axelAngle:R/this.bodyParts*Math.PI*2})}else i.data.wheels.splice(Math.floor(Math.random()*i.data.wheels.length),1);return i.fixAngleWeights(),i}breed2(r,e,s){var n=Math.max(1,this.score)/(Math.max(1,this.score)+Math.max(1,r.score)),t=2;this.maxWheels;var b=this.wheelProb,b=this.wheelProb;s&&(b=s);var f=.05;this.fixAngleWeights(),r.fixAngleWeights(),this.data.wheels.sort(this.compareWheels),r.data.wheels.sort(this.compareWheels);var h=new ot;h.score=this.score*n+r.score*(1-n);for(var i=0;i<this.bodyParts;i++)if(Math.random()>f){var l=(Math.random()-.5)/.99+.5;l=.5+(l-.5)*(1-t)+(n-.5)*t;var g=g>Math.random()?1:0;h.data.lengths[i]=Math.min(Math.max((this.data.lengths[i]*l+r.data.lengths[i]*(1-l))*(1-g)+g*Math.random()*this.maxLength,0),this.maxLength);var g=g>Math.random()?1:0;h.data.angleWeights[i]=Math.max((this.data.angleWeights[i]/this.totalAngleWeights()*l+r.data.angleWeights[i]/r.totalAngleWeights()*(1-l))*(1-g)+g*Math.random()*1/this.bodyParts,0)}for(var i=0;i<this.bodyParts*2;i++)if(Math.random()>f){var l=(Math.random()-.5)/.99+.5;l=.5+(l-.5)*(1-t)+(n-.5)*t;var u=ut(this.data.colors[i]),d=ut(r.data.colors[i]),M=ut(0),g=g>Math.random()?1:0;M.r=Math.min(Math.max((u.r*l+d.r*(1-l))*(1-g)+g*Math.random()*256,0),255);var g=g>Math.random()?1:0;M.g=Math.min(Math.max((u.g*l+d.g*(1-l))*(1-g)+g*Math.random()*256,0),255);var g=g>Math.random()?1:0;M.b=Math.min(Math.max((u.b*l+d.b*(1-l))*(1-g)+g*Math.random()*256,0),255),h.data.colors[i]=We(M)}h.data.wheels=[];for(var i=0;i<Math.min(Math.max(this.data.wheels.length,r.data.wheels.length),this.maxWheels);i++){var y=i<this.data.wheels.length,W=i<r.data.wheels.length,P=y?this.data.wheels[i]:r.data.wheels[i],S=y&&W?r.data.wheels[i]:P,l=(Math.random()-.5)/.99+.5;l=.5+(l-.5)*(1-t)+(n-.5)*t,P.o&&P.r,S.o&&S.r;var g=g>Math.random()?1:0,x=Math.min(Math.max((P.r*l+S.r*(1-l))*(1-g)+g*Math.random()*this.maxRadius,this.minRadius),this.maxRadius),l=(Math.random()-.5)/.99+.5;l=.5+(l-.5)*(1-t)+(n-.5)*t;var g=g>Math.random()?1:0,E=((P.o?1:0)*l+(S.o?1:0)*(1-l))*(1-g)+g*Math.random()>.5,V={x:Math.cos(P.index*Math.PI*2/this.bodyParts),y:Math.sin(P.index*Math.PI*2/this.bodyParts)},U={x:Math.cos(S.index*Math.PI*2/this.bodyParts),y:Math.sin(S.index*Math.PI*2/this.bodyParts)},l=(Math.random()-.5)/.99+.5;l=.5+(l-.5)*(1-t)+(n-.5)*t;var A={x:V.x*l+U.x*(1-l),y:V.y*l+U.y*(1-l)},T=Math.floor(Math.atan2(A.y,A.x)/Math.PI/2*this.bodyParts),p=Math.floor(Math.random()*this.bodyParts),V={x:Math.cos(p*Math.PI*2/this.bodyParts),y:Math.sin(p*Math.PI*2/this.bodyParts)},U={x:Math.cos(T*Math.PI*2/this.bodyParts),y:Math.sin(T*Math.PI*2/this.bodyParts)};l=g,A={x:V.x*l+U.x*(1-l),y:V.y*l+U.y*(1-l)};var g=g>Math.random()?1:0;T=(Math.floor(Math.atan2(A.y,A.x)/Math.PI/2*this.bodyParts)+this.bodyParts+this.bodyParts)%this.bodyParts,Math.random()<f&&(T=Math.floor(Math.random()*this.bodyParts)),x<=this.minRadius&&(E=!1),Math.random()<f&&(E=Math.random()>.1,x=(this.maxRadius-this.minRadius)*Math.random()+this.minRadius);var L={index:T,r:x,o:E,axelAngle:T/this.bodyParts*Math.PI*2};h.data.wheels.push(L)}var J=e-h.data.wheels.length;if(J>0)for(var B=0;B<J;B++){var R=Math.floor(Math.random()*this.bodyParts);h.data.wheels.push({index:R+0,r:(this.maxRadius-this.minRadius)*Math.random()+this.minRadius,o:Math.random()<b,axelAngle:R/this.bodyParts*Math.PI*2})}if(J<0)for(var B=0;B<-J;B++)h.data.wheels.splice(Math.floor(Math.random()*h.data.wheels.length),1);for(var it=0,i=0;i<h.data.wheels.length;i++)h.data.wheels[i].o&&it++;var G=h.data.wheels.length*b-it;if(G>0)for(var B=0;B<G;B++){var rt=Math.floor(Math.random()*h.data.wheels.length);h.data.wheels[rt].o=Math.random()<.5||h.data.wheels[rt].o}if(Math.random()<f)if(h.data.wheels.length<this.maxWheels&&Math.random()<.5){var R=Math.floor(Math.random()*this.bodyParts);h.data.wheels.push({index:R,r:(this.maxRadius-this.minRadius)*Math.random()+this.minRadius,o:Math.random()<.1,axelAngle:R/this.bodyParts*Math.PI*2})}else h.data.wheels.splice(Math.floor(Math.random()*h.data.wheels.length),1);return h.fixAngleWeights(),h}clone(){this.data.wheels.sort(this.compareWheels);for(var r=new ot,e=0;e<this.bodyParts;e++)r.data.lengths[e]=this.data.lengths[e]+0,r.data.angleWeights[e]=this.data.angleWeights[e]+0;r.data.wheels=[];for(var e=0;e<this.data.wheels.length;e++){var s=this.data.wheels[e],n={index:s.index+0,r:s.r+0,o:s.o&&!0,axelAngle:s.axelAngle+0};r.data.wheels.push(n)}return r}}function sr(a){for(var r=or(a),e=new JXG.Util.Unzip(JXG.Util.Base64.decodeAsArray(a)).unzip()[0][0],s=[],n=0;n<16;n++)s.push(r.getFloat64(n*8));for(var n=0;n<8;n++){var t=r.getInt32(n*8*2.5+128);Math.abs(t)<10||(t=NaN),s.push(t),s.push(r.getFloat64(n*8*2.5+16*8+.5*8)),Math.abs(s[s.length-1])<Math.pow(2,-100)&&(s[s.length-1]=0),s.push(r.getFloat64(n*8*2.5+16*8+1.5*8)),Math.abs(s[s.length-1])<Math.pow(2,-100)&&(s[s.length-1]=0)}for(var b=(r.getUint8(44*8+3)%8+7)%8+1,n=0;n<16;n++){var f=n*4+288;f<e.length-1&&s.push(r.getUint32(f))}return s.push(b),s}function or(a){for(var r=new JXG.Util.Unzip(JXG.Util.Base64.decodeAsArray(a)).unzip()[0][0],e=new ArrayBuffer(r.length),s=new DataView(e),n=0;n<r.length;n++)s.setUint8(n,r.charCodeAt(n),!1);return s}class j{constructor(r,e,s){X(this,"x");X(this,"y");X(this,"z");this.x=r,this.y=e,this.z=s}dot2(r,e){return this.x*r+this.y*e}dot3(r,e,s){return this.x*r+this.y*e+this.z*s}}var ir=[new j(1,1,0),new j(-1,1,0),new j(1,-1,0),new j(-1,-1,0),new j(1,0,1),new j(-1,0,1),new j(1,0,-1),new j(-1,0,-1),new j(0,1,1),new j(0,-1,1),new j(0,1,-1),new j(0,-1,-1)],Ae=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],C=new Array(512),Y=new Array(512);const _e=function(a){a>0&&a<1&&(a*=65536),a=Math.floor(a),a<256&&(a|=a<<8);for(var r=0;r<256;r++){var e;r&1?e=Ae[r]^a&255:e=Ae[r]^a>>8&255,C[r]=C[r+256]=e,Y[r]=Y[r+256]=ir[e%12]}};_e(0);var lr=.5*(Math.sqrt(3)-1),Ft=(3-Math.sqrt(3))/6,hr=1/3,nt=1/6;const gr=function(a,r){var e,s,n,t=(a+r)*lr,b=Math.floor(a+t),f=Math.floor(r+t),h=(b+f)*Ft,i=a-b+h,l=r-f+h,g,u;i>l?(g=1,u=0):(g=0,u=1);var d=i-g+Ft,M=l-u+Ft,y=i-1+2*Ft,W=l-1+2*Ft;b&=255,f&=255;var P=Y[b+C[f]],S=Y[b+g+C[f+u]],x=Y[b+1+C[f+1]],E=.5-i*i-l*l;E<0?e=0:(E*=E,e=E*E*P.dot2(i,l));var A=.5-d*d-M*M;A<0?s=0:(A*=A,s=A*A*S.dot2(d,M));var T=.5-y*y-W*W;return T<0?n=0:(T*=T,n=T*T*x.dot2(y,W)),70*(e+s+n)},dr=function(a,r,e){var s,n,t,b,f=(a+r+e)*hr,h=Math.floor(a+f),i=Math.floor(r+f),l=Math.floor(e+f),g=(h+i+l)*nt,u=a-h+g,d=r-i+g,M=e-l+g,y,W,P,S,x,E;u>=d?d>=M?(y=1,W=0,P=0,S=1,x=1,E=0):u>=M?(y=1,W=0,P=0,S=1,x=0,E=1):(y=0,W=0,P=1,S=1,x=0,E=1):d<M?(y=0,W=0,P=1,S=0,x=1,E=1):u<M?(y=0,W=1,P=0,S=0,x=1,E=1):(y=0,W=1,P=0,S=1,x=1,E=0);var A=u-y+nt,T=d-W+nt,p=M-P+nt,V=u-S+2*nt,U=d-x+2*nt,L=M-E+2*nt,J=u-1+3*nt,B=d-1+3*nt,R=M-1+3*nt;h&=255,i&=255,l&=255;var it=Y[h+C[i+C[l]]],G=Y[h+y+C[i+W+C[l+P]]],rt=Y[h+S+C[i+x+C[l+E]]],Qt=Y[h+1+C[i+1+C[l+1]]],mt=.6-u*u-d*d-M*M;mt<0?s=0:(mt*=mt,s=mt*mt*it.dot3(u,d,M));var ct=.6-A*A-T*T-p*p;ct<0?n=0:(ct*=ct,n=ct*ct*G.dot3(A,T,p));var ft=.6-V*V-U*U-L*L;ft<0?t=0:(ft*=ft,t=ft*ft*rt.dot3(V,U,L));var vt=.6-J*J-B*B-R*R;return vt<0?b=0:(vt*=vt,b=vt*vt*Qt.dot3(J,B,R)),32*(s+n+t+b)};function Vt(a){return a*a*a*(a*(a*6-15)+10)}function st(a,r,e){return(1-e)*a+e*r}const cr=function(a,r){var e=Math.floor(a),s=Math.floor(r);a=a-e,r=r-s,e=e&255,s=s&255;var n=Y[e+C[s]].dot2(a,r),t=Y[e+C[s+1]].dot2(a,r-1),b=Y[e+1+C[s]].dot2(a-1,r),f=Y[e+1+C[s+1]].dot2(a-1,r-1),h=Vt(a);return st(st(n,b,h),st(t,f,h),Vt(r))},fr=function(a,r,e){var s=Math.floor(a),n=Math.floor(r),t=Math.floor(e);a=a-s,r=r-n,e=e-t,s=s&255,n=n&255,t=t&255;var b=Y[s+C[n+C[t]]].dot3(a,r,e),f=Y[s+C[n+C[t+1]]].dot3(a,r,e-1),h=Y[s+C[n+1+C[t]]].dot3(a,r-1,e),i=Y[s+C[n+1+C[t+1]]].dot3(a,r-1,e-1),l=Y[s+1+C[n+C[t]]].dot3(a-1,r,e),g=Y[s+1+C[n+C[t+1]]].dot3(a-1,r,e-1),u=Y[s+1+C[n+1+C[t]]].dot3(a-1,r-1,e),d=Y[s+1+C[n+1+C[t+1]]].dot3(a-1,r-1,e-1),M=Vt(a),y=Vt(r),W=Vt(e);return st(st(st(b,l,M),st(f,g,M),W),st(st(h,u,M),st(i,d,M),W),y)},St={seed:_e,simplex2:gr,simplex3:dr,perlin2:cr,perlin3:fr};var N=25,dt=(a=>(a[a.Sisyphus=0]="Sisyphus",a[a.Hills=1]="Hills",a[a.Crescendo=2]="Crescendo",a[a.Rocky=3]="Rocky",a))(dt||{});function ur(a){return a<N?0:St.perlin2((a-N)/20,0)*10+St.perlin2((a-N)/10,(a-N)/10)*10-Math.pow(Math.max(a-N,0)/10,1.2)/4*10}function br(a){return a<N?0:St.perlin2((a-N)/15,0)*(12-2/((a-N+10)/7))+St.perlin2((a-N)/7,(a-N)/7)}function mr(a){if(a<N)return 0;var r=250-25;return r-Math.sqrt(1-Math.pow(Math.max(a-N,0)/r,2))*r?(r-Math.sqrt(1-Math.pow(Math.max(a-N,0)/r,2))*r)*1.75:St.perlin2((a-N)/15,0)*(12-2/((a-N+10)/7))+St.perlin2((a-N)/7,(a-N)/7)}function vr(a){if(a<N)return 0;var r=1;return a<N+100&&(r=Math.max(a-N,0)/100),-Math.sin(Math.max(a-N,0)/20+Math.pow(Math.max(a-N,0)/20,1.75)/20)*10*r}const ge=2,Xt=4,pr=65535,Mr=65535^ge^Xt,Oe=65535^Xt^ge,Tt={};Tt.filterCategoryBits=Xt;Tt.filterMaskBits=Oe;Tt.density=.5;Tt.friction=10;Tt.restitution=.1;const bt={};bt.filterCategoryBits=ge;bt.filterMaskBits=pr;bt.density=2;bt.friction=10;bt.restitution=.05;const yr=pe(ve({},bt),{density:-bt.density}),Et={};Et.filterCategoryBits=Xt;Et.filterMaskBits=Oe;Et.density=15;Et.friction=10;Et.restitution=.05;const Zt={};Zt.filterMaskBits=Mr;Zt.density=2;Zt.restitution=.05;const xr={density:0,friction:2},Pr=10,wr=1.5;var Se=6*Math.PI;const Er=(a,{terrainXSRef:r,cameraRef:e,world:s,ground:n,carScoreRef:t,restartCurrentRef:b,distTicksRef:f,currentTicksRef:h,boxCarRef:i,scaleRef:l,genXRef:g,terrain:u,setLeaderboard:d,setScore:M,restartTicksRef:y,handleImportCarRef:W,removeOldCarRef:P,GRAVITY:S,simSpeedValueRef:x,autoFastValueRef:E})=>{let A=1;function T(o){t.current<o-3&&(b.current=0,t.current=o+0,i.current.score=o+0,f.current=h.current+0)}var p=[];r.current=[];function V(){for(;n.m_fixtureList;)n.destroyFixture(n.m_fixtureList);r.current=[],p=[]}function U(){for(;g.current<e.current.x+Math.max(a.width/l.current/2,100);){var o=.5,c=g.current,w=g.current+(u===dt.Hills||u===dt.Sisyphus?2:7);g.current=w;var v=u===dt.Hills?vr:u===dt.Sisyphus?mr:u===dt.Crescendo?ur:br,_=O.Vec2(c,v(c)),F=O.Vec2(w,v(w)),D=Math.atan2(F.y-_.y,F.x-_.x);let at=O.Vec2(F.y-_.y,_.x-F.x);at.normalize();var $=O.Box(Math.sqrt(Math.pow(F.x-_.x,2)+Math.pow(F.y-_.y,2))/2,o,O.Vec2(_.x/2+F.x/2,_.y/2+F.y/2).add(at.mul(o/2)),D),k=n.createFixture($,xr);p.push(k),r.current.push(F),k.render={special:"ground",fill:K.BLACK,stroke:K.BLACK,layer:0}}}U();var L=[],J=[],B=[],R=6,it=16,G=new ot;function rt(){for(var o=[],c=0;c<L.length;c++)o.push(L[L.length-c-1].car);for(var c=0;c<J.length;c++)o.push(J[J.length-c-1].car);for(var c=0;c<B.length;c++)o.push(B[B.length-c-1].car);var w=2;return o[Math.floor(Math.pow(Math.random(),w)*o.length)].breed(o[Math.floor(Math.pow(Math.random(),w)*o.length)])}function Qt(){if(L.length<1)return 0;for(var o=L[0].score,c=0;c<L.length;c++)o=Math.min(o,L[c].score);return o}function mt(o,c,w){L.push({score:c,ticks:w,car:o}),L.sort(function(v,_){return v.score-_.score}),L.length>R&&L.splice(0,L.length-R)}function ct(){L.sort(function(o,c){return c.score-o.score}),d(L),L.length>0&&document.querySelectorAll("#score-best")[0].setAttribute("value",L[0].car.exportCar())}function ft(o){t.current=Math.max(i.current.getPosition().x,t.current);var c=t.current+0,w=f.current+0;o?(L=[],J=[],B=[],G=new ot,Jt(G)):(c>0&&(B.push({score:c,ticks:f.current,car:G.clone()}),mt(G.clone(),c,w)),B.length>=it&&(B.sort(function(v,_){return v.score-_.score}),B.splice(0,B.length-4),J=B,B=[]),J.length===0?(L.length>0?G=rt():G=new ot,Jt(G)):(G=rt(),Jt(G))),ct()}function vt(o){t.current+0,L=[],J=[],B=[],G=new ot().importCar(o),Jt(G)}W.current=vt;var jt,Bt,pt=O.Vec2(0,10);i.current=s.createDynamicBody({position:pt.clone()});var de=Tt;de.friction=1;var ce=!1,Wt=[],q=[],_t=[],Gt=[],Mt=[],Nt=[],tt=[],yt=[],et=[],lt=[],te=[],Q=[],Ot=[],Ct=[],xt=[],Pt=[],ee=pt.clone();function fe(){for(var o=0;o<q.length;o++)s.destroyBody(q[o].m_body);for(var o=0;o<Mt.length;o++)s.destroyBody(Mt[o].m_body);for(var o=0;o<tt.length;o++)tt[o]&&s.destroyBody(tt[o]);for(var o=0;o<Pt.length;o++)Pt[o]&&s.destroyBody(Pt[o]);for(var o=0;o<lt.length;o++)lt[o]&&s.destroyBody(lt[o]);for(var o=0;o<xt.length;o++)xt[o]&&s.destroyBody(xt[o]);s.destroyBody(i.current),i.current=s.createBody({position:pt.clone()}),Wt=[],q=[],_t=[],Gt=[],Mt=[],Nt=[],tt=[],yt=[],et=[],Ot=[],Pt=[],lt=[],Q=[],Ct=[],xt=[],ee=pt.clone()}P.current=fe;var H=1;let Ut=ar;function Jt(o){b.current=0,G=o,fe(),i.current=s.createDynamicBody({position:pt.clone()}),q=[],_t=[],Gt=[],Mt=[],Nt=[],tt=[],yt=[],et=[],Ot=[],Pt=[],lt=[],Q=[],Ct=[],xt=[],ee=pt.clone();var c=pt.y+0,w=Math.abs(o.data.angleWeights[0]/o.totalAngleWeights()*Math.PI*2%(Math.PI*2));(w+Math.PI)%(Math.PI*2)-Math.PI<0&&(w=Math.PI-1-((w+Math.PI)%(Math.PI*2)-Math.PI));for(var v=0;v<o.bodyParts;v++){Gt.push(o.getAreaOfPiece(v));var _=w+o.data.angleWeights[(v+1)%o.data.angleWeights.length]/o.totalAngleWeights()*Math.PI*2,F=O.Polygon([O.Vec2(0,0),O.Vec2(Math.cos(w+0)*o.data.lengths[v]*H,Math.sin(w+0)*o.data.lengths[v]*H),O.Vec2(Math.cos(_+0)*o.data.lengths[(v+1)%o.data.lengths.length]*H,Math.sin(_+0)*o.data.lengths[(v+1)%o.data.lengths.length]*H)]),D=bt;(((_-w+0)/Math.PI*180+360)%360+360)%360>180&&(D=yr,console.log("neg"));var $=i.current.createFixture(F,D);c=Math.min(c,$.getAABB(0).lowerBound.y),ut(parseInt(Be((o.data.colors[v]||0).toString(16).padStart(6,"0")).substring(1),16));let Fe=o.data.colors[v]||0;var k=Ut[Fe%Ut.length];$.render={fill:k,stroke:k,layer:6},q.push($),_t.push(v),Nt.push(F);for(var at=o.wheelsAt(v),Yt=[],wt=[],It=0;It<at.length;It++){var Z=at[It];if(Z.o){ut(o.data.colors[(o.data.wheels.indexOf(Z)+8)%o.data.colors.length]);var qt=O.Vec2(Math.cos(w)*o.data.lengths[v]*H,Math.sin(w)*o.data.lengths[v]*H).add(ee).sub(O.Vec2(Math.cos(Z.axelAngle)*o.maxRadius*H/3,Math.sin(Z.axelAngle)*o.maxRadius*H/3)),re=O.Vec2(Math.cos(Z.axelAngle)*.2*H*o.maxRadius/3,Math.sin(Z.axelAngle)*.2*H*o.maxRadius/3).add(qt),ae=s.createDynamicBody(re),ne=ae.createFixture(O.Box(.2*H*o.maxRadius/1.5,.05*H*o.maxRadius/1.5,O.Vec2(0,0),Z.axelAngle),Et),Le=$.getBody().createFixture(O.Box(.2*H*o.maxRadius/1.5,.1*H*o.maxRadius/1.5,O.Vec2(Math.cos(w)*o.data.lengths[v]*H,Math.sin(w)*o.data.lengths[v]*H),Z.axelAngle),Et),kt=s.createDynamicBody(qt),se=kt.createFixture(O.Circle(Z.r*H*.89),de);se.render={fill:K.BLACK,layer:7};let ht=o.data.colors[(o.data.wheels.indexOf(Z)+8)%o.data.colors.length]||0;var k=Ut[ht%Ut.length];Le.render={fill:k,stroke:k,layer:9},ne.render={fill:k,stroke:k,layer:8};var ue=s.createJoint(O.PrismaticJoint({enableMotor:!0,lowerTranslation:-o.maxRadius*H/3,upperTranslation:o.maxRadius*H/3*.075,enableLimit:!0},$.getBody(),ae,kt.getWorldCenter(),O.Vec2(-Math.cos(Z.axelAngle)/1,-Math.sin(Z.axelAngle)/1))),be=s.createJoint(O.RevoluteJoint({motorSpeed:-Se,maxMotorTorque:42/2,enableMotor:!0},ne.getBody(),kt,kt.getWorldCenter()));et.push(be),Yt.push(be),tt.push(kt),yt.push(se),Q.push(ue),wt.push(ue),lt.push(ae),te.push(ne),c=Math.min(c,se.getAABB(0).lowerBound.y),$.getBody().resetMassData()}}Ot.push([Yt]),Ct.push([wt]),w=_}c=c-.5,i.current.resetMassData(),i.current.setPosition(O.Vec2(i.current.getPosition().x,i.current.getPosition().y-c));for(var v=0;v<te.length;v++){let ht=te[v].m_body;ht.setPosition(O.Vec2(ht.getPosition().x,ht.getPosition().y-c))}for(var v=0;v<yt.length;v++){let ht=yt[v].m_body;ht.setPosition(O.Vec2(ht.getPosition().x,ht.getPosition().y-c))}t.current=0,e.current.x=0,b.current=0,f.current=0,h.current=0,g.current=-200,V(),U(),ct()}ft(!0),s.on("post-solve",function(o,c){for(var w=o;w;){for(var v=0;v<q.length;v++){var _=q[v],F=50*q[v].m_body.m_mass/2;if(w.getFixtureA()==_&&Mt.indexOf(w.getFixtureB())<0&&yt.indexOf(w.getFixtureB())<0||w.getFixtureB()==_&&Mt.indexOf(w.getFixtureA())<0&&yt.indexOf(w.getFixtureA())<0){for(var D=!1,$=0;$<w.v_points.length;$++)w.v_points[$].normalImpulse>F&&(D=!0);D&&Wt.push(_)}}w=w.m_next}});function Ce(o){if(q.indexOf(o)>=0){q.indexOf(o);var c=Nt.splice(q.indexOf(o),1)[0];Gt.splice(q.indexOf(o),1)[0];var w=_t.splice(q.indexOf(o),1)[0],v=Ot.splice(q.indexOf(o),1)[0],_=Ct.splice(q.indexOf(o),1)[0];q.splice(q.indexOf(o),1);var F=i.current.m_fixtureList;if(!(F==null?void 0:F.m_shape)||!(F==null?void 0:F.getBody()))return;q.indexOf(F);var D=F.getBody(),$=D.getWorldCenter();if(v[1])for(var k=0;k<v[1].length;k++)xt.push(lt.splice(lt.indexOf(_[1][k].m_bodyB),1)[0]),Pt.push(tt.splice(tt.indexOf(v[1][k].m_bodyB),1)[0]),s.destroyJoint(v[1][k]),s.destroyJoint(_[1][k]);var at=_t.indexOf((w+G.bodyParts-1)%G.bodyParts);if(at>=0&&doubleWheelParent){Ot[at][1]=v[0],Ct[at][1]=_[0];for(var k=0;k<_[0].length;k++)_[0][k].m_bodyA=q[at].m_body}else for(var k=0;k<v[0].length;k++)Pt.push(tt.splice(tt.indexOf(v[0][k].m_bodyB),1)[0]),s.destroyJoint(v[0][k]),xt.push(tt.splice(lt.indexOf(_[0][k].m_bodyB),1)[0]),s.destroyJoint(_[0][k]);var Yt=o.render;i.current.destroyFixture(o),o=null;var wt=s.createBody({type:"dynamic",position:D.getPosition(),angle:D.getAngle()});o=wt.createFixture(c,Zt),o.render=Yt,o.render.layer=2,Mt.push(o);var It=D.getWorldCenter(),Z=wt.getWorldCenter(),qt=O.Vec2.add(jt,O.Vec2.cross(Bt,O.Vec2.sub(It,$))),re=O.Vec2.add(jt,O.Vec2.cross(Bt,O.Vec2.sub(Z,$)));D.setAngularVelocity(Bt),D.setLinearVelocity(qt),wt.setAngularVelocity(Bt),wt.setLinearVelocity(re),i.current.resetMassData()}}function Ie(){U();var o=i.current.m_mass;try{for(var c=0;c<et.length;c++)et[c].m_bodyB&&et[c].m_bodyB.m_mass&&(o+=et[c].m_bodyB.m_mass),Q[c].m_bodyB&&(o+=Q[c].m_bodyB.m_mass)}catch{}o=o/H/H;for(var w=wr*S/et.length*o,v=7.5*o/6,c=0;c<et.length;c++)et[c].m_bodyB&&et[c].setMaxMotorTorque(w*2),Q[c].setMotorSpeed(Se),Q[c].enableMotor(!0),Q[c].m_bodyB&&(Q[c].setMaxMotorForce(v+40/40*v*Math.pow(5*Q[c].getJointTranslation()/H/(G.maxRadius*H/3),2)),Q[c].setMotorSpeed(-20/20*5*Q[c].getJointTranslation()/H/(G.maxRadius*H/3)));b.current++,h.current++;var _=i.current.getPosition();if(e.current.x=_.x,e.current.y=-_.y,T(_.x),(b.current>=y.current||q.length<3)&&ft(),Wt.length>0){for(var F=0;F<Wt.length;F++)Ce(Wt[F]);Wt=[]}jt=i.current.getLinearVelocity(),Bt=i.current.getAngularVelocity()}function ke(){for(var o=0;o<A;o++){let w={af:E.current,simSpeed:x.current};ce=w.af,ce?t.current>Qt()?A=10:A=100:A=w.simSpeed,M(Math.max(i.current.getPosition().x,t.current)),s.step(1/75);var c=new Date().getTime();Ie(),new Date().getTime()-c}}return()=>{ke()}},Dt=()=>{var a;return(a=window.devicePixelRatio)!=null?a:1},Wr=(a,{cameraRef:r,scaleRef:e,world:s,terrainXSRef:n})=>{var t=a.getContext("2d");a.width=window.innerWidth*Dt(),a.height=window.innerHeight*Dt();function b(h,i){t.lineCap="round",t.save(),new Path2D().arc(h.m_p.x*e.current,h.m_p.y*e.current,h.m_radius*e.current,0,2*Math.PI),t.beginPath(),t.shadowBlur=0,t.shadowColor="rgba(0,0,0,0)",t.shadowOffsetY=0,t.shadowOffsetX=0,t.strokeStyle=K.BLACK,t.lineWidth=e.current/4,t.globalCompositeOperation,t.strokeStyle=K.BLACK,t.fillStyle=K.WHITER,t.arc(h.m_p.x*e.current,h.m_p.y*e.current,h.m_radius*e.current,0,2*Math.PI),t.beginPath(),t.arc(h.m_p.x*e.current,h.m_p.y*e.current,h.m_radius*e.current,0,2*Math.PI),t.stroke(),t.beginPath(),t.strokeStyle=K.BLACK,t.lineWidth=e.current/4,t.moveTo(h.m_p.x*e.current,h.m_p.y*e.current),t.lineTo(h.m_p.x*e.current+h.m_radius*e.current,h.m_p.y*e.current),t.stroke(),t.globalCompositeOperation="orig",t.restore()}function f(h,i,l){var y,W;t.save();let g=new Path2D;g.moveTo(h.m_vertices[0].x*e.current,h.m_vertices[0].y*e.current);for(var u=1;u<h.m_vertices.length;u++)g.lineTo(h.m_vertices[u].x*e.current,h.m_vertices[u].y*e.current);t.lineJoin="round",t.lineCap="round",t.beginPath();let d=t.globalCompositeOperation;if(l){t.globalCompositeOperation="source-over",t.strokeStyle="#8B9B56",t.fillStyle=z("#8B9B56").brighten(1).hex(),t.moveTo(h.m_vertices[1].x*e.current,h.m_vertices[1].y*e.current),t.lineTo(h.m_vertices[2].x*e.current,h.m_vertices[2].y*e.current);let P=t.getTransform().transformPoint(new DOMPoint(h.m_vertices[1].x*e.current,h.m_vertices[1].y*e.current)),S=t.getTransform().transformPoint(new DOMPoint(h.m_vertices[2].x*e.current,h.m_vertices[2].y*e.current)),x=t.getTransform().inverse().transformPoint(new DOMPoint(S.x,a.height));t.lineTo(x.x,x.y);let E=t.getTransform().inverse().transformPoint(new DOMPoint(P.x,a.height));t.lineTo(E.x,E.y),t.save(),t.clip(),t.moveTo(h.m_vertices[1].x*e.current,h.m_vertices[1].y*e.current),t.lineTo(h.m_vertices[2].x*e.current,h.m_vertices[2].y*e.current),t.lineTo(x.x,x.y),t.lineTo(E.x,E.y),t.fill(),t.beginPath(),t.lineWidth=e.current/2,t.moveTo(h.m_vertices[1].x*e.current,h.m_vertices[1].y*e.current),t.lineTo(h.m_vertices[2].x*e.current,h.m_vertices[2].y*e.current),t.stroke(),t.restore()}else{t.moveTo(h.m_vertices[0].x*e.current,h.m_vertices[0].y*e.current);for(var u=1;u<h.m_vertices.length;u++)t.lineTo(h.m_vertices[u].x*e.current,h.m_vertices[u].y*e.current)}t.shadowBlur=0,t.shadowColor="rgba(0,0,0,0)",t.shadowOffsetY=0,t.shadowOffsetX=0,t.fillStyle=z((W=(y=i.render)==null?void 0:y.stroke)!=null?W:t.strokeStyle).brighten(2);let M=t.strokeStyle+"";if(t.strokeStyle=t.fillStyle,t.lineWidth=8,t.closePath(),!l){if(t.fill(),t.globalCompositeOperation="multiply",t.lineWidth=1e-4,t.stroke(),t.strokeStyle=M,h.m_vertices.length===3&&!1)for(var u;u<3;u++);else t.stroke();if(t.lineWidth=e.current/4,h.m_vertices.length===3&&!1)for(var u;u<3;u++);else t.stroke()}t.globalCompositeOperation=d,t.restore()}return()=>{var S;let h=Math.ceil(window.innerWidth*Dt()),i=Math.ceil(window.innerHeight*Dt());(a.width!==h||a.height!==i)&&(a.width=h,a.height=i),e.current=Math.min(a.width/40,a.height/40),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,a.width,a.height),t.fillStyle=K.WHITE,t.fillRect(0,0,a.width,a.height),t.translate(-r.current.x*e.current,-r.current.y*e.current),t.globalAlpha=1,t.globalCompositeOperation="multiply",t.globalCompositeOperation="source-over",t.globalAlpha=1,t.translate(r.current.x*e.current,r.current.y*e.current),t.translate(a.width/2,a.height/2),t.scale(1,-1),t.translate(-r.current.x*e.current,r.current.y*e.current);var l=[];function g(x,E,A){for(var T=!1,p=0;p<l.length;p++)l[p].index==x&&(T=!0,l[p].pairs.push({f:E,b:A}));T||l.push({index:x,pairs:[{f:E,b:A}]})}for(var u=s.getBodyList();u;u=u.getNext())for(var d=u.getFixtureList();d;d=d.getNext()){var M=0;d.render&&d.render.layer&&(M=d.render.layer),g(M,d,u)}l.sort(function(x,E){return x.index-E.index});let y=n.current;if(y.length>=2){t.beginPath();let x=t.getTransform().transformPoint(new DOMPoint(y[0].x*e.current,y[0].y*e.current)),E=t.getTransform().transformPoint(new DOMPoint(y[y.length-1].x*e.current,y[y.length-1].y*e.current)),A=t.getTransform().inverse().transformPoint(new DOMPoint(E.x,a.height)),T=t.getTransform().inverse().transformPoint(new DOMPoint(x.x,a.height));t.moveTo(T.x,T.y);for(let p=0;p<y.length;p++){let V=y[p];t.lineTo(V.x*e.current,V.y*e.current)}t.lineTo(A.x,A.y),t.globalCompositeOperation="source-over",t.strokeStyle=z.blend(Ht,z.blend(At,K.WHITE,"multiply").hex(),"multiply").hex(),t.fillStyle=z(z.blend(Ht,z.blend(At,K.WHITE,"multiply").hex(),"multiply").hex()).brighten(1).hex(),t.lineWidth=e.current*(.5-.5*.5),t.fill(),t.stroke()}for(var W=0;W<l.length;W++)for(var P=0;P<l[W].pairs.length;P++){var d=l[W].pairs[P].f,u=l[W].pairs[P].b;if(t.strokeStyle=d.render&&d.render.stroke?d.render.stroke:"#000000",t.fillStyle=d.render&&d.render.fill?d.render.fill:"rgba(0,0,0,0)",t.lineWidth=1,t.save(),t.globalCompositeOperation="multiply",t.translate(d.m_body.m_xf.p.x*e.current,d.m_body.m_xf.p.y*e.current),t.rotate(Math.atan2(d.m_body.m_xf.q.s,d.m_body.m_xf.q.c)),d.m_shape.getType()=="polygon"){let A=((S=d.render)==null?void 0:S.special)==="ground";A||f(d.m_shape,d,A)}d.m_shape.getType()=="circle"&&b(d.m_shape),t.restore(),t.globalCompositeOperation="source-over",t.globalAlpha=1}}},Ar=({setScore:a,setLeaderboard:r,handleImportCarRef:e,terrain:s,simSpeedValueRef:n,autoFastValueRef:t})=>{const[b,f]=I.exports.useState(null),h=I.exports.useRef(O.Vec2(0,0)),[i,l]=I.exports.useState(Pr),g=I.exports.useMemo(()=>O.World({gravity:O.Vec2(0,-i)}),[i]),u=I.exports.useRef([]),d=I.exports.useMemo(()=>g.createBody(),[g]),M=I.exports.useRef(-200),y=I.exports.useRef(Math.min(window.innerWidth/40,window.innerHeight/40)),W=I.exports.useRef(null),P=I.exports.useRef(0),S=I.exports.useRef(0),x=I.exports.useRef(400),E=I.exports.useRef(0),A=I.exports.useRef(0),T=I.exports.useRef(()=>{});return I.exports.useEffect(()=>{if(b){const p={cameraRef:h,world:g,ground:d,setScore:a,setLeaderboard:r,terrain:s,genXRef:M,GRAVITY:i,currentTicksRef:P,distTicksRef:S,restartTicksRef:x,restartCurrentRef:E,carScoreRef:A,boxCarRef:W,scaleRef:y,terrainXSRef:u,handleImportCarRef:e,removeOldCarRef:T,simSpeedValueRef:n,autoFastValueRef:t};console.log("REGO");const V=setInterval(Er(b,p),1e3/75),U=setInterval(Wr(b,p),1e3/75);return()=>{clearInterval(U),clearInterval(V),T.current()}}},[b,s]),m.createElement("canvas",{ref:p=>f(p)})};function Te(a,r=100){let e;return(...s)=>{e||(a.apply(this,s),e=setTimeout(()=>{e=void 0},r))}}const $t=[dt.Rocky,dt.Hills,dt.Sisyphus],Sr=()=>{const[a,r]=I.exports.useState(0),[e,s]=I.exports.useState([]),n=I.exports.useRef(p=>{}),[t,b]=I.exports.useState($t[Math.floor(Math.random()*3)]),[f,h]=I.exports.useState(!1),[i,l]=I.exports.useState(""),[g,u]=I.exports.useState(""),[d,M]=I.exports.useState(5),y=I.exports.useRef(d);I.exports.useEffect(()=>{y.current=d},[d]);const[W,P]=I.exports.useState(!0),S=I.exports.useRef(W);I.exports.useEffect(()=>{S.current=W},[W]);const[x,E]=I.exports.useState(!1),A=()=>{E(!1)},T=()=>{h(!1)};return m.createElement(gt,null,m.createElement(Ar,{handleImportCarRef:n,setScore:Te(p=>r(p)),setLeaderboard:Te(p=>s(p)),terrain:t,simSpeedValueRef:y,autoFastValueRef:S}),m.createElement(gt,{sx:{top:0,position:"absolute",padding:1}},m.createElement(Je,{component:Ye,elevation:0,sx:{bgcolor:K.WHITISH}},m.createElement(qe,{sx:{minWidth:104},"aria-label":"simple table"},m.createElement(ze,null,m.createElement(Me,null,m.createElement(zt,{align:"right"},"Score"),m.createElement(zt,{align:"right"},"Time"))),m.createElement(Re,null,e.map((p,V)=>m.createElement(Me,{key:p.score+"_"+p.ticks,sx:{"&:last-child td, &:last-child th":{border:0}}},m.createElement(zt,{align:"right"},p.score.toFixed(2)),m.createElement(zt,{align:"right"},(p.ticks/75).toFixed(2)))))))),m.createElement(gt,{sx:{bottom:0,position:"absolute",width:1,padding:1,boxSizing:"border-box"}},m.createElement(ye,{onClose:T,open:f},m.createElement(xe,null,"Import Car"),m.createElement(Pe,null,m.createElement(we,{label:"Car Data",variant:"outlined",value:i,onChange:p=>l(p.target.value)})),m.createElement(Ee,null,m.createElement(Lt,{onClick:()=>{T(),n.current(i)}},"Import"))),m.createElement(ye,{onClose:A,open:x},m.createElement(xe,null,"Export Car"),m.createElement(Pe,null,m.createElement(we,{label:"Copyable Car Data",variant:"outlined",value:g})),m.createElement(Ee,null,m.createElement(Lt,{onClick:A},"Done"))),m.createElement(ie,{container:!0,sx:{width:1},gap:1},m.createElement(ie,{item:!0,container:!0,flex:"1",alignItems:"end"},m.createElement(Rt,null,m.createElement(gt,{sx:{typography:"h4",color:"primary"}},"Score: ",a.toFixed(2)),m.createElement(gt,{sx:{width:256}},m.createElement(Rt,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center"},m.createElement(Ke,{sx:{fontSize:"48px"}}),m.createElement(De,{value:d,min:1,max:100,onChange:p=>{M(p.target.value)},sx:{"& .MuiSlider-thumb":{}}}))),m.createElement(gt,null,m.createElement(Rt,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center"},"Auto Speed:",m.createElement($e,{checked:W,onChange:p=>{P(p.target.checked)}}))))),m.createElement(ie,{item:!0,flex:"1"},m.createElement(Rt,{gap:1,alignItems:"end"},m.createElement(Lt,{disableElevation:!0,size:"large",onClick:()=>{h(!0),l("")},sx:{padding:0,":hover div":{paddingRight:3,transition:"padding-right 0.25s"}}},m.createElement(Xe,{sx:{fontSize:"48px",marginRight:1,marginLeft:1}}),m.createElement(gt,{component:"div",sx:{letterSpacing:"-0.05em",bgcolor:"warning.main",padding:1,color:"warning.contrastText",fontSize:"48px",lineHeight:1,transition:"padding-right 0.25s"}},"Import Car")),m.createElement(Lt,{disableElevation:!0,size:"large",onClick:()=>{if(e.length>0){let p=e[0].car;u(p.exportCar()),E(!0)}},sx:{padding:0,":hover div":{paddingRight:3,transition:"padding-right 0.25s"}}},m.createElement(Ze,{sx:{fontSize:"48px",marginRight:1,marginLeft:1}}),m.createElement(gt,{sx:{letterSpacing:"-0.05em",bgcolor:"error.main",padding:1,color:"error.contrastText",fontSize:"48px",lineHeight:1,transition:"padding-right 0.25s"}},"Export Best")),m.createElement(Lt,{disableElevation:!0,size:"large",onClick:()=>{b($t[($t.indexOf(t)+1)%$t.length])},sx:{padding:0,":hover div":{paddingRight:3,transition:"padding-right 0.25s"}}},m.createElement(Qe,{sx:{fontSize:"48px",marginRight:1,marginLeft:1}}),m.createElement(gt,{sx:{letterSpacing:"-0.05em",bgcolor:"success.main",padding:1,color:"success.contrastText",fontSize:"48px",lineHeight:1,transition:"padding-right 0.25s"}},"Switch Terrain")))))))},Tr=je({palette:{primary:{main:"#312D32",contrastText:"#EAE8E5"},warning:{main:z.blend(At,K.WHITE,"multiply").hex(),contrastText:"#EAE8E5"},error:{main:z.blend(At,z.blend(he,K.WHITE,"multiply").hex(),"multiply").hex(),contrastText:"#EAE8E5"},info:{main:z.blend(Ht,z.blend(he,K.WHITE,"multiply").hex(),"multiply").hex(),contrastText:"#EAE8E5"},success:{main:z.blend(Ht,z.blend(At,K.WHITE,"multiply").hex(),"multiply").hex(),contrastText:"#EAE8E5"},divider:"#44372f"},typography:{button:{textTransform:"capitalize"}},shape:{borderRadius:0}});tr.exports.render(m.createElement(er,{theme:Tr},m.createElement(Sr,null)),document.getElementById("root"));
